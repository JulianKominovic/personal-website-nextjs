(()=>{var e={};e.id=92,e.ids=[92],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},5034:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},8414:()=>{},3646:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{headerHooks:()=>f,originalPathname:()=>_,patchFetch:()=>u,requestAsyncStorage:()=>l,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>y});var a=s(837),n=s(5906),o=s(5881),i=s(4733),c=e([i]);i=(c.then?(await c)():c)[0];let p=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/memos/[id]/route",pathname:"/api/memos/[id]",filename:"route",bundlePath:"app/api/memos/[id]/route"},resolvedPagePath:"/home/julian/dev/personal-website-nextjs/src/app/api/memos/[id]/route.ts",nextConfigOutput:"standalone",userland:i}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:m,headerHooks:f,staticGenerationBailout:y}=p,_="/api/memos/[id]/route";function u(){return(0,o.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}r()}catch(e){r(e)}})},5905:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{DYNAMIC_ERROR_CODE:function(){return s},DynamicServerError:function(){return r}});let s="DYNAMIC_SERVER_USAGE";class r extends Error{constructor(e){super("Dynamic server usage: "+e),this.digest=s}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2329:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"staticGenerationBailout",{enumerable:!0,get:function(){return i}});let r=s(5905),a=s(5869);class n extends Error{constructor(...e){super(...e),this.code="NEXT_STATIC_GEN_BAILOUT"}}function o(e,t){let{dynamic:s,link:r}=t||{};return"Page"+(s?' with `dynamic = "'+s+'"`':"")+" couldn't be rendered statically because it used `"+e+"`."+(r?" See more info here: "+r:"")}let i=(e,t)=>{let{dynamic:s,link:i}=void 0===t?{}:t,c=a.staticGenerationAsyncStorage.getStore();if(!c)return!1;if(c.forceStatic)return!0;if(c.dynamicShouldError)throw new n(o(e,{link:i,dynamic:null!=s?s:"error"}));let u=o(e,{dynamic:s,link:"https://nextjs.org/docs/messages/dynamic-server-error"});if(null==c.postpone||c.postpone.call(c,e),c.revalidate=0,c.isStaticGeneration){let t=new r.DynamicServerError(u);throw c.dynamicUsageDescription=e,c.dynamicUsageStack=t.stack,t}return!1};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},837:(e,t,s)=>{"use strict";e.exports=s(517)},4733:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{DELETE:()=>i,PATCH:()=>c});var a=s(135),n=s(7283),o=e([a]);a=(o.then?(await o)():o)[0];let i=async(e,{params:t})=>{if(n.cookies().get("auth-cookie")?.value===process.env.AUTH_SECRET){let e=t.id,s=await a.R.delete(e);return new Response(JSON.stringify(s),{status:200,headers:{"Content-Type":"application/json"}})}return new Response("404",{status:404})},c=async(e,{params:t})=>{let s=t.id,{pinned:r}=await e.json();if(n.cookies().get("auth-cookie")?.value===process.env.AUTH_SECRET){let e=await a.R.setPinned(+s,r);return new Response(JSON.stringify(e),{status:200,headers:{"Content-Type":"application/json"}})}return new Response("404",{status:404})};r()}catch(e){r(e)}})},135:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{R:()=>a});let e=new(s(3023)).x6;console.log(process.env.DB_IP_PORT,{database:process.env.RESOURCES_DB_ID,namespace:process.env.RESOURCES_DB_ID,auth:{password:process.env.DB_PASSWORD,username:process.env.DB_USER,database:process.env.RESOURCES_DB_ID,namespace:process.env.RESOURCES_DB_ID,scopes:["*"]}}),await e.connect(`http://${process.env.DB_IP_PORT}/rpc`,{database:process.env.RESOURCES_DB_ID,namespace:process.env.RESOURCES_DB_ID,auth:{password:process.env.DB_PASSWORD,username:process.env.DB_USER,database:process.env.RESOURCES_DB_ID,namespace:process.env.RESOURCES_DB_ID,scopes:["*"]}}),await e.wait();let a={create:async t=>{let s=(await e.query("select * from memos ORDER BY id DESC limit 1"))[0],r=s&&s[0]&&s[0]?.id.replace(RegExp("[^0-9]","g"),""),a=r?parseInt(r)+1:0;return await e.create("memos",{...t,id:a})},searchContent:async e=>{let t=await a.selectAll(),s=RegExp(e,"i");return t.filter(e=>e.content&&s.test(e.content))},selectAll:async()=>(await (await e.query("select * from memos ORDER BY id DESC"))[0]).sort((e,t)=>{let s=Number(e.pinned);return Number(t.pinned)-s}),selectById:async t=>await e.select("memos:"+t)[0],update:async t=>await e.update("memos:"+parseInt(t.id),t),delete:async t=>await e.delete(`memos:${parseInt(t)}`),setPinned:async(t,s)=>{let r=(await e.select("memos:"+t))[0];return await e.update("memos:"+parseInt(t),{...r,pinned:s})}};r()}catch(e){r(e)}},1)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[536,960],()=>s(3646));module.exports=r})();